<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_05) on Sat Feb 14 16:47:13 EST 2015 -->
<title>CacheMapping</title>
<meta name="date" content="2015-02-14">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CacheMapping";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/dselent/bigarraylist/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CacheMapping.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/dselent/bigarraylist/BigArrayList.html" title="class in com.dselent.bigarraylist"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/dselent/bigarraylist/FileAccessor.html" title="class in com.dselent.bigarraylist"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/dselent/bigarraylist/CacheMapping.html" target="_top">Frames</a></li>
<li><a href="CacheMapping.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.dselent.bigarraylist</div>
<h2 title="Class CacheMapping" class="title">Class CacheMapping</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.dselent.bigarraylist.CacheMapping</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">CacheMapping</span>
extends java.lang.Object</pre>
<div class="block">Class that manages the mapping from files on disk to elements in memory for the BigArrayList class.
 Uses an LRU policy at the cache block level to determine which cache block should be swapped out next.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Douglas Selent</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../com/dselent/bigarraylist/BigArrayList.html" title="class in com.dselent.bigarraylist">BigArrayList</a>&lt;?&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#bigArrayList">bigArrayList</a></span></code>
<div class="block">Reference to the associated BigArrayList object</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#blockize">blockize</a></span></code>
<div class="block">The size of the cache blocks</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#cacheBlocks">cacheBlocks</a></span></code>
<div class="block">The number of cache blocks</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#cacheTableFiles">cacheTableFiles</a></span></code>
<div class="block">The file number each ArrayList/Cache block is currently storing
 Index is the same as the ArrayList index</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#cacheTableSpots">cacheTableSpots</a></span></code>
<div class="block">Array storing the next spot to add to for each cache</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#DEFAULT_BLOCK_SIZE">DEFAULT_BLOCK_SIZE</a></span></code>
<div class="block">Default size of cache block = 1,000,000</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#DEFAULT_CACHE_BLOCKS">DEFAULT_CACHE_BLOCKS</a></span></code>
<div class="block">Default number of cache blocks = 2</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#dirtyBits">dirtyBits</a></span></code>
<div class="block">Array for each cache block for whether or not it's data has changed
 If clean, then it does not need to be written to disk when swapped out
 If dirty, then it does need to be written to disk when swapped out</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../com/dselent/bigarraylist/FileAccessor.html" title="class in com.dselent.bigarraylist">FileAccessor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#fileAccessor">fileAccessor</a></span></code>
<div class="block">Referene to the accociated FileAccessor object</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#MAX_CACHE_BLOCKS">MAX_CACHE_BLOCKS</a></span></code>
<div class="block">The maximum number of cache blocks = the integer limit of 2^31 - 1</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#MAX_TABLE_SIZE">MAX_TABLE_SIZE</a></span></code>
<div class="block">The maximum size of a cache block = the integer limit of 2^31 - 1</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#MIN_CACHE_BLOCKS">MIN_CACHE_BLOCKS</a></span></code>
<div class="block">The minimum number of cache blocks = 2</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#MIN_TABLE_SIZE">MIN_TABLE_SIZE</a></span></code>
<div class="block">The minimum size of a cache block = 10 elements</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#mostRecentlyUsedList">mostRecentlyUsedList</a></span></code>
<div class="block">Array of when each block was last used
 Stores a list of block numbers sorted from least recently used to most recently used
 most recent = end of array</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#CacheMapping-com.dselent.bigarraylist.BigArrayList-">CacheMapping</a></span>(<a href="../../../com/dselent/bigarraylist/BigArrayList.html" title="class in com.dselent.bigarraylist">BigArrayList</a>&lt;?&gt;&nbsp;theList)</code>
<div class="block">Constructs a CacheMapping object for the BigArrayList</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#CacheMapping-int-int-com.dselent.bigarraylist.BigArrayList-">CacheMapping</a></span>(int&nbsp;newBlockSize,
            int&nbsp;newCacheBlocks,
            <a href="../../../com/dselent/bigarraylist/BigArrayList.html" title="class in com.dselent.bigarraylist">BigArrayList</a>&lt;?&gt;&nbsp;theList)</code>
<div class="block">Constructs a CacheMapping object for the BigArrayList with the following parameters</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#CacheMapping-int-int-java.lang.String-com.dselent.bigarraylist.BigArrayList-">CacheMapping</a></span>(int&nbsp;newBlockSize,
            int&nbsp;newCacheBlocks,
            java.lang.String&nbsp;memoryFilePath,
            <a href="../../../com/dselent/bigarraylist/BigArrayList.html" title="class in com.dselent.bigarraylist">BigArrayList</a>&lt;?&gt;&nbsp;theList)</code>
<div class="block">Constructs a CacheMapping object for the BigArrayList with the following parameters</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#CacheMapping-java.lang.String-com.dselent.bigarraylist.BigArrayList-">CacheMapping</a></span>(java.lang.String&nbsp;memoryFilePath,
            <a href="../../../com/dselent/bigarraylist/BigArrayList.html" title="class in com.dselent.bigarraylist">BigArrayList</a>&lt;?&gt;&nbsp;theList)</code>
<div class="block">Constructs a CacheMapping object for the BigArrayList with the following parameters</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#addEntry-int-">addEntry</a></span>(int&nbsp;cacheBlockIndex)</code>
<div class="block">Called by the add method of BigArrayList
 Updates meta data associated with adding an element</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#bringFileIntoCache-int-boolean-">bringFileIntoCache</a></span>(int&nbsp;fileNumber,
                  boolean&nbsp;newBlock)</code>
<div class="block">Brings the content of the given file number into an available cache block</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#clearCacheBlock-int-">clearCacheBlock</a></span>(int&nbsp;blockToClear)</code>
<div class="block">Clears a cache block from memory
 Only a soft clear</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#clearMemory--">clearMemory</a></span>()</code>
<div class="block">Deletes all data from disk</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#flushCache--">flushCache</a></span>()</code>
<div class="block">Flushes all data in memory to disk</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#flushCacheBlock-int-">flushCacheBlock</a></span>(int&nbsp;blockIndex)</code>
<div class="block">Flushed a single cache block to disk</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#getCacheBlockSpot-int-">getCacheBlockSpot</a></span>(int&nbsp;fileNumber)</code>
<div class="block">Returns the cacheTableFiles spot where the current file/cache block is being held</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#getCacheFileNumber-long-">getCacheFileNumber</a></span>(long&nbsp;elementNumber)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#getFirstOpenCacheBlock--">getFirstOpenCacheBlock</a></span>()</code>
<div class="block">Returns the first open location to swap a cache block into or -1 if there are no open spots</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#getNumberOfCacheBlocks--">getNumberOfCacheBlocks</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#getSpotInCache-long-">getSpotInCache</a></span>(long&nbsp;elementNumber)</code>
<div class="block">Returns the spot in cache where this element would be</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#getTableSize--">getTableSize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#isCacheFull-int-">isCacheFull</a></span>(int&nbsp;block)</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#isElementNumberInCache-long-">isElementNumberInCache</a></span>(long&nbsp;elementNumber)</code>
<div class="block">Returns if the element is in cache or not</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#isFileInCache-int-">isFileInCache</a></span>(int&nbsp;fileNumber)</code>
<div class="block">Returns if the file is in cache or not</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#readFromFile-int-int-">readFromFile</a></span>(int&nbsp;fileNumber,
            int&nbsp;cacheIndex)</code>
<div class="block">Reads the data from the given file number / cache block into the specified cache index</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#removeFromUsedList-int-">removeFromUsedList</a></span>(int&nbsp;blockIndex)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#setCacheTableFiles-int-int-">setCacheTableFiles</a></span>(int&nbsp;index,
                  int&nbsp;fileNumber)</code>
<div class="block">Sets the mapping for cache blocks that are in memory to the file number on disk</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#setCacheTableSpots-int-int-">setCacheTableSpots</a></span>(int&nbsp;cacheBlockIndex,
                  int&nbsp;indexToAdd)</code>
<div class="block">Sets the index to add the next element to for the given cache block</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#setDirtyBit-int-boolean-">setDirtyBit</a></span>(int&nbsp;blockIndex,
           boolean&nbsp;dirty)</code>
<div class="block">Sets the dirty bit for the given cache block index</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dselent/bigarraylist/CacheMapping.html#updateUsedList-int-">updateUsedList</a></span>(int&nbsp;blockNumber)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_BLOCK_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_BLOCK_SIZE</h4>
<pre>private final&nbsp;int DEFAULT_BLOCK_SIZE</pre>
<div class="block">Default size of cache block = 1,000,000</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.dselent.bigarraylist.CacheMapping.DEFAULT_BLOCK_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_CACHE_BLOCKS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_CACHE_BLOCKS</h4>
<pre>private final&nbsp;int DEFAULT_CACHE_BLOCKS</pre>
<div class="block">Default number of cache blocks = 2</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.dselent.bigarraylist.CacheMapping.DEFAULT_CACHE_BLOCKS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MIN_TABLE_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MIN_TABLE_SIZE</h4>
<pre>private final&nbsp;int MIN_TABLE_SIZE</pre>
<div class="block">The minimum size of a cache block = 10 elements</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.dselent.bigarraylist.CacheMapping.MIN_TABLE_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_TABLE_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_TABLE_SIZE</h4>
<pre>private final&nbsp;int MAX_TABLE_SIZE</pre>
<div class="block">The maximum size of a cache block = the integer limit of 2^31 - 1</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.dselent.bigarraylist.CacheMapping.MAX_TABLE_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MIN_CACHE_BLOCKS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MIN_CACHE_BLOCKS</h4>
<pre>private final&nbsp;int MIN_CACHE_BLOCKS</pre>
<div class="block">The minimum number of cache blocks = 2</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.dselent.bigarraylist.CacheMapping.MIN_CACHE_BLOCKS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_CACHE_BLOCKS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_CACHE_BLOCKS</h4>
<pre>private final&nbsp;int MAX_CACHE_BLOCKS</pre>
<div class="block">The maximum number of cache blocks = the integer limit of 2^31 - 1</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.dselent.bigarraylist.CacheMapping.MAX_CACHE_BLOCKS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="blockize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockize</h4>
<pre>private&nbsp;int blockize</pre>
<div class="block">The size of the cache blocks</div>
</li>
</ul>
<a name="cacheBlocks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cacheBlocks</h4>
<pre>private&nbsp;int cacheBlocks</pre>
<div class="block">The number of cache blocks</div>
</li>
</ul>
<a name="cacheTableSpots">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cacheTableSpots</h4>
<pre>private&nbsp;int[] cacheTableSpots</pre>
<div class="block">Array storing the next spot to add to for each cache</div>
</li>
</ul>
<a name="cacheTableFiles">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cacheTableFiles</h4>
<pre>private&nbsp;int[] cacheTableFiles</pre>
<div class="block">The file number each ArrayList/Cache block is currently storing
 Index is the same as the ArrayList index</div>
</li>
</ul>
<a name="mostRecentlyUsedList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mostRecentlyUsedList</h4>
<pre>private&nbsp;int[] mostRecentlyUsedList</pre>
<div class="block">Array of when each block was last used
 Stores a list of block numbers sorted from least recently used to most recently used
 most recent = end of array</div>
</li>
</ul>
<a name="dirtyBits">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dirtyBits</h4>
<pre>private&nbsp;boolean[] dirtyBits</pre>
<div class="block">Array for each cache block for whether or not it's data has changed
 If clean, then it does not need to be written to disk when swapped out
 If dirty, then it does need to be written to disk when swapped out</div>
</li>
</ul>
<a name="bigArrayList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bigArrayList</h4>
<pre>private&nbsp;<a href="../../../com/dselent/bigarraylist/BigArrayList.html" title="class in com.dselent.bigarraylist">BigArrayList</a>&lt;?&gt; bigArrayList</pre>
<div class="block">Reference to the associated BigArrayList object</div>
</li>
</ul>
<a name="fileAccessor">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>fileAccessor</h4>
<pre>private&nbsp;<a href="../../../com/dselent/bigarraylist/FileAccessor.html" title="class in com.dselent.bigarraylist">FileAccessor</a> fileAccessor</pre>
<div class="block">Referene to the accociated FileAccessor object</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CacheMapping-com.dselent.bigarraylist.BigArrayList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CacheMapping</h4>
<pre>protected&nbsp;CacheMapping(<a href="../../../com/dselent/bigarraylist/BigArrayList.html" title="class in com.dselent.bigarraylist">BigArrayList</a>&lt;?&gt;&nbsp;theList)</pre>
<div class="block">Constructs a CacheMapping object for the BigArrayList</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>theList</code> - Associated BigArrayList</dd>
</dl>
</li>
</ul>
<a name="CacheMapping-int-int-com.dselent.bigarraylist.BigArrayList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CacheMapping</h4>
<pre>protected&nbsp;CacheMapping(int&nbsp;newBlockSize,
                       int&nbsp;newCacheBlocks,
                       <a href="../../../com/dselent/bigarraylist/BigArrayList.html" title="class in com.dselent.bigarraylist">BigArrayList</a>&lt;?&gt;&nbsp;theList)</pre>
<div class="block">Constructs a CacheMapping object for the BigArrayList with the following parameters</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newBlockSize</code> - Size of each cache block</dd>
<dd><code>newCacheBlocks</code> - Number of cache blocks</dd>
<dd><code>theList</code> - Associated BigArrayList</dd>
</dl>
</li>
</ul>
<a name="CacheMapping-java.lang.String-com.dselent.bigarraylist.BigArrayList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CacheMapping</h4>
<pre>protected&nbsp;CacheMapping(java.lang.String&nbsp;memoryFilePath,
                       <a href="../../../com/dselent/bigarraylist/BigArrayList.html" title="class in com.dselent.bigarraylist">BigArrayList</a>&lt;?&gt;&nbsp;theList)</pre>
<div class="block">Constructs a CacheMapping object for the BigArrayList with the following parameters</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>memoryFilePath</code> - Folder path to where the data should be written</dd>
<dd><code>theList</code> - Associated BigArrayList</dd>
</dl>
</li>
</ul>
<a name="CacheMapping-int-int-java.lang.String-com.dselent.bigarraylist.BigArrayList-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CacheMapping</h4>
<pre>protected&nbsp;CacheMapping(int&nbsp;newBlockSize,
                       int&nbsp;newCacheBlocks,
                       java.lang.String&nbsp;memoryFilePath,
                       <a href="../../../com/dselent/bigarraylist/BigArrayList.html" title="class in com.dselent.bigarraylist">BigArrayList</a>&lt;?&gt;&nbsp;theList)</pre>
<div class="block">Constructs a CacheMapping object for the BigArrayList with the following parameters</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newBlockSize</code> - Size of each cache block</dd>
<dd><code>newCacheBlocks</code> - Number of cache blocks</dd>
<dd><code>memoryFilePath</code> - Folder path to where the data should be written</dd>
<dd><code>theList</code> - Associated BigArrayList</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getTableSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableSize</h4>
<pre>protected&nbsp;int&nbsp;getTableSize()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the size of each cache block</dd>
</dl>
</li>
</ul>
<a name="getNumberOfCacheBlocks--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumberOfCacheBlocks</h4>
<pre>protected&nbsp;int&nbsp;getNumberOfCacheBlocks()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the number of cache blocks</dd>
</dl>
</li>
</ul>
<a name="setCacheTableSpots-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCacheTableSpots</h4>
<pre>private&nbsp;void&nbsp;setCacheTableSpots(int&nbsp;cacheBlockIndex,
                                int&nbsp;indexToAdd)</pre>
<div class="block">Sets the index to add the next element to for the given cache block</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cacheBlockIndex</code> - The index for the cache block</dd>
<dd><code>indexToAdd</code> - The next index to add to for the specified cache block</dd>
</dl>
</li>
</ul>
<a name="setCacheTableFiles-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCacheTableFiles</h4>
<pre>private&nbsp;void&nbsp;setCacheTableFiles(int&nbsp;index,
                                int&nbsp;fileNumber)</pre>
<div class="block">Sets the mapping for cache blocks that are in memory to the file number on disk</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - The index of the cache block</dd>
<dd><code>fileNumber</code> - The file number</dd>
</dl>
</li>
</ul>
<a name="isCacheFull-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCacheFull</h4>
<pre>protected&nbsp;boolean&nbsp;isCacheFull(int&nbsp;block)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>block</code> - The cache block</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns if the cache block is full or not</dd>
</dl>
</li>
</ul>
<a name="setDirtyBit-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDirtyBit</h4>
<pre>protected&nbsp;void&nbsp;setDirtyBit(int&nbsp;blockIndex,
                           boolean&nbsp;dirty)</pre>
<div class="block">Sets the dirty bit for the given cache block index</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blockIndex</code> - Index of the cache block</dd>
<dd><code>dirty</code> - Whether or not the block of cache is dirty</dd>
</dl>
</li>
</ul>
<a name="addEntry-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addEntry</h4>
<pre>protected&nbsp;void&nbsp;addEntry(int&nbsp;cacheBlockIndex)</pre>
<div class="block">Called by the add method of BigArrayList
 Updates meta data associated with adding an element</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cacheBlockIndex</code> - Index of the cache block</dd>
</dl>
</li>
</ul>
<a name="getCacheFileNumber-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCacheFileNumber</h4>
<pre>protected&nbsp;int&nbsp;getCacheFileNumber(long&nbsp;elementNumber)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>elementNumber</code> - The element</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the file number where this element would be</dd>
</dl>
</li>
</ul>
<a name="getCacheBlockSpot-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCacheBlockSpot</h4>
<pre>protected&nbsp;int&nbsp;getCacheBlockSpot(int&nbsp;fileNumber)</pre>
<div class="block">Returns the cacheTableFiles spot where the current file/cache block is being held</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileNumber</code> - The file number</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the cacheTableFiles spot where the current file/cache block is being held</dd>
</dl>
</li>
</ul>
<a name="getSpotInCache-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSpotInCache</h4>
<pre>protected&nbsp;int&nbsp;getSpotInCache(long&nbsp;elementNumber)</pre>
<div class="block">Returns the spot in cache where this element would be</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>elementNumber</code> - The element index</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the spot in cache where this element would be</dd>
</dl>
</li>
</ul>
<a name="isFileInCache-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFileInCache</h4>
<pre>protected&nbsp;boolean&nbsp;isFileInCache(int&nbsp;fileNumber)</pre>
<div class="block">Returns if the file is in cache or not</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileNumber</code> - The file number index</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns true if the contents of the file are in cache and false otherwise</dd>
</dl>
</li>
</ul>
<a name="isElementNumberInCache-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isElementNumberInCache</h4>
<pre>protected&nbsp;boolean&nbsp;isElementNumberInCache(long&nbsp;elementNumber)</pre>
<div class="block">Returns if the element is in cache or not</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>elementNumber</code> - The element index</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns true if the element number is in cache and false otherwise</dd>
</dl>
</li>
</ul>
<a name="getFirstOpenCacheBlock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstOpenCacheBlock</h4>
<pre>protected&nbsp;int&nbsp;getFirstOpenCacheBlock()</pre>
<div class="block">Returns the first open location to swap a cache block into or -1 if there are no open spots</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the first open location to swap a cache block into or -1 if there are no open spots</dd>
</dl>
</li>
</ul>
<a name="updateUsedList-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateUsedList</h4>
<pre>protected&nbsp;void&nbsp;updateUsedList(int&nbsp;blockNumber)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blockNumber</code> - Block/File number that was just used</dd>
</dl>
</li>
</ul>
<a name="removeFromUsedList-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromUsedList</h4>
<pre>private&nbsp;void&nbsp;removeFromUsedList(int&nbsp;blockIndex)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blockIndex</code> - Index to remove from the list</dd>
</dl>
</li>
</ul>
<a name="flushCache--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushCache</h4>
<pre>protected&nbsp;void&nbsp;flushCache()</pre>
<div class="block">Flushes all data in memory to disk</div>
</li>
</ul>
<a name="flushCacheBlock-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushCacheBlock</h4>
<pre>private&nbsp;void&nbsp;flushCacheBlock(int&nbsp;blockIndex)</pre>
<div class="block">Flushed a single cache block to disk</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blockIndex</code> - The index of the cache block</dd>
</dl>
</li>
</ul>
<a name="clearCacheBlock-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearCacheBlock</h4>
<pre>private&nbsp;void&nbsp;clearCacheBlock(int&nbsp;blockToClear)</pre>
<div class="block">Clears a cache block from memory
 Only a soft clear</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blockToClear</code> - The block index</dd>
</dl>
</li>
</ul>
<a name="bringFileIntoCache-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bringFileIntoCache</h4>
<pre>protected&nbsp;int&nbsp;bringFileIntoCache(int&nbsp;fileNumber,
                                 boolean&nbsp;newBlock)</pre>
<div class="block">Brings the content of the given file number into an available cache block</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileNumber</code> - The file number</dd>
<dd><code>newBlock</code> - Indicated if a new block is being created.  This occurs when adding to the end of the list needs to add to
 a cache block that is not in memory because it hasn't been created yet as opposed to being on disk.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The index of the spot where the cache block was brought into</dd>
</dl>
</li>
</ul>
<a name="readFromFile-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readFromFile</h4>
<pre>private&nbsp;void&nbsp;readFromFile(int&nbsp;fileNumber,
                          int&nbsp;cacheIndex)</pre>
<div class="block">Reads the data from the given file number / cache block into the specified cache index</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileNumber</code> - The file number / cache block to read in</dd>
<dd><code>cacheIndex</code> - The cache index to populate with the data from the file</dd>
</dl>
</li>
</ul>
<a name="clearMemory--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>clearMemory</h4>
<pre>protected&nbsp;void&nbsp;clearMemory()</pre>
<div class="block">Deletes all data from disk</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/dselent/bigarraylist/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CacheMapping.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/dselent/bigarraylist/BigArrayList.html" title="class in com.dselent.bigarraylist"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/dselent/bigarraylist/FileAccessor.html" title="class in com.dselent.bigarraylist"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/dselent/bigarraylist/CacheMapping.html" target="_top">Frames</a></li>
<li><a href="CacheMapping.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
